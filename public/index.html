<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
        <meta name="title" content="node-test-run" />
        <meta name="description" content="ブラウザからカメラやGPSなどを使うテスト" />
        <title>node-test-run</title>
        <link rel="icon" href="/img/favicon.ico">
        <link rel="apple-touch-icon" href="/img/apple-touch-icon.png">
        <link rel="stylesheet" type="text/css" href="/css/index.css">
        <link rel="stylesheet" type="text/css" href="/css/camera.css">
        <script src="/js/index.js"></script>
        <script src="/js/camera.js"></script>
        <script src="/js/gps.js"></script>
        <script src="/js/qrcode.js"></script>
        <script src="/js/jsQR.js"></script>
    </head>
    <body>
        <h1>ブラウザからカメラやGPSなどを使うテスト</h1>
        <section>
            <h2>カメラ</h2>
            <button id="camera-button">カメラ実行</button>
            <div id="camera-result"></div>
        </section>
        <section>
            <h2>GPS</h2>
            <button id="gps-button">GPS実行</button>
            <div id="gps-result"></div>
        </section>
        <section>
            <h2>QRコード</h2>
            <button id="qrcode-button">QRコード実行</button>
            <div id="qrcode-result"></div>
        </section>
        <section>
            <h2>文字サイズ自動</h2>
            <canvas id="fontsize" style="background-color: lemonchiffon; border: solid 1px gold;"></canvas>
            <script>
                var canvas = document.querySelector('#fontsize');
                canvas.style.width = '400px';
                canvas.style.height = '150px';
                canvas.width = 800;
                canvas.height = 300;
                const context = canvas.getContext('2d');
                context.font = '72px "メイリオ"';
                context.strokeStyle = 'rgb(128,0,0)';
                context.fillStyle = 'pink';
                const text = '123abciiffwwあいう漢字';
                const metrics = context.measureText(text);
                console.log(metrics);
                context.fillText(text, 20, 80);
                context.strokeText(text, 20, 80);
                context.fillText(text, 20, 170, 320);
                context.strokeText(text, 20, 170, 320);
                context.fillText(metrics.width, 20, 260);
            </script>
        </section>        
        <footer>
            <h3>Licenses</h3>
            <ul>
                <li><a href="https://otologic.jp" target="_blank">BGM by OtoLogic (CC BY 4.0)</a></li>
                <li><a href="https://www.flaticon.com/free-icons/radar" target="_blank">Radar icons created by Freepik - Flaticon</a></li>
                <li><a href="https://github.com/cozmo/jsQR" target="_blank">jsQR (Apache License 2.0)</a></li>
            </ul>
        </footer>
    </body>
</html>
